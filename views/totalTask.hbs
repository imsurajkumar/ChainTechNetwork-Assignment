{{>header}}
{{>navbar}}
{{>backtohome}}

<div class="container w-75">

    {{#if error}}
    <section class="text-center p-5">
        <h1 class="text-danger">{{error}}</h1>
    </section>
    {{else}}

    <h4 class="text-center underline-text">Tasks</h4>

    <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped table-info">

            <thead class="text-center sticky-top">
                <tr>
                    <th width="5%">No.</th>
                    <th width="25%">Title</th>
                    <th width="45%">Description</th>
                    <th width="10%">Status</th>
                    <th width="15%">Action</th>
                </tr>
            </thead>
            <tbody>
                {{#each data}}
                <tr>
                    <td>{{inc @index}}</td>
                    {{#if (eq status "completed")}}
                    <td class="text-decoration-line-through">{{title}}</td>
                    <td class="text-decoration-line-through">{{description}}</td>
                    {{else}}
                    <td>{{title}}</td>
                    <td>{{description}}</td>
                    {{/if}}
                    <td>{{status}}</td>
                    <td class="d-flex justify-content-around icon-container">
                        <span class="icon-tooltip" data-tooltip="Edit">
                            <a href="/edit/{{_id}}"><i class="fa-solid fa-pen-to-square text-warning fs-4"></i></a>
                        </span>
                        <span class="icon-tooltip" data-tooltip="Delete">
                            <a href="/delete/{{_id}}"><i class="fa-solid fa-trash-can text-danger fs-4"></i></a>
                        </span>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    {{/if}}
</div>
{{>copyright}}
{{>footer}}